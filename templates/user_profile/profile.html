{% extends 'base.html' %}

{% block title %} <title>Profile</title>{% endblock title %} 

{% block hero %}
<div class="container mt-4">
  <div class="row">
    <div class="col-lg-8">
      <h2 class="fw-bold mb-4">My Profile</h2>
        
      <!-- Profile Info Card -->
      <div class="card mb-4 shadow-sm">
        <div class="card-body">
          <div class="row align-items-center">
            <div class="col-auto">
              {% if user.image %}
                <img src="{{ user.image.url }}" class="rounded-circle" style="width:100px;height:100px;object-fit:cover;" />
              {% else %}
                <img src="/media/user.png" class="rounded-circle" style="width:100px;height:100px;object-fit:cover;" />
              {% endif %}
            </div>
            <div class="col">
              <h5 class="fw-bold mb-1">{{ user.username }}</h5>
              <p class="text-muted mb-0">{{ user.email }}</p>
              <small class="text-muted">Role: <strong>{{ user.role }}</strong></small>
            </div>
          </div>
        </div>
      </div>

      <!-- Account Details -->
      <div class="card shadow-sm">
        <div class="card-header bg-white border-bottom">
          <h6 class="fw-bold mb-0">Account Details</h6>
        </div>
        <div class="card-body">
          <div class="row mb-3">
            <div class="col-md-6">
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-md-6">
              <label class="text-muted small">Email</label>
              <p class="fw-semibold">{{ user.email }}</p>
            </div>
            <div class="col-md-6">
              <label class="text-muted small">Username</label>
              <p class="fw-semibold">{{ user.username }}</p>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-md-6">
              <label class="text-muted small">Phone</label>
              <p class="fw-semibold">{{ user.phone|default:"—" }}</p>
            </div>
            <div class="col-md-6">
              <label class="text-muted small">Country</label>
              <p class="fw-semibold">{{ user.country|default:"—" }}</p>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-12">
              <label class="text-muted small">Bio</label>
              <p class="fw-semibold">{{ user.bio|default:"—" }}</p>
            </div>
          </div>
          <div>
            <label class="text-muted small">Member Since</label>
            <p class="fw-semibold">{{ user.date_joined|date:"M d, Y" }}</p>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-4">
      <!-- Quick Stats / Info Sidebar -->
      <div class="card shadow-sm mb-4" style="background: linear-gradient(135deg, #f0f4ff 0%, #f9f9ff 100%); border:0;">
        <div class="card-body">
          <h6 class="fw-bold mb-3">Quick Stats</h6>
          <div class="mb-3">
            <div class="text-muted small">Account Status</div>
            <p class="fw-semibold text-success">Active ✓</p>
          </div>
          <div>
            <div class="text-muted small">Last Login</div>
            <p class="fw-semibold">{{ user.last_login|date:"M d, Y H:i"|default:"Never" }}</p>
          </div>
        </div>
      </div>

      <!-- Actions Card -->
      <div class="card shadow-sm">
        <div class="card-body">
          <h6 class="fw-bold mb-3">Account Actions</h6>
          <a href="{% url 'update-profile' %}" class="btn btn-sm btn-outline-primary w-100 mb-2">Edit Profile</a>
          <a href="#" class="btn btn-sm btn-outline-secondary w-100 mb-2">Change Password</a>
          <a href="{% url 'logout' %}" class="btn btn-sm btn-outline-danger w-100">Logout</a>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock  %}